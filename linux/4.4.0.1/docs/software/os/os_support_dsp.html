
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.0.2">
    
    
      
        <title>DSP OS QuRT - Hexagon SDK</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.38780c08.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f72e892.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/mermaid.css">
    
      <link rel="stylesheet" href="../../css/freezeTable.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dsp-os-and-resource-management" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Hexagon SDK" class="md-header-nav__button md-logo" aria-label="Hexagon SDK">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Hexagon SDK
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              DSP OS QuRT
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Hexagon SDK" class="md-nav__button md-logo" aria-label="Hexagon SDK">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Hexagon SDK
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../index.html" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Tools
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Tools" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/setup.html" class="md-nav__link">
      Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/build.html" class="md-nav__link">
      Building
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/sign.html" class="md-nav__link">
      Device signing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/run.html" class="md-nav__link">
      Running
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/messaging.html" class="md-nav__link">
      Message logging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/debug.html" class="md-nav__link">
      Debugging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/profile.html" class="md-nav__link">
      Profiling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/ide.html" class="md-nav__link">
      Using the IDE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/clone.html" class="md-nav__link">
      Project cloning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/qhcg.html" class="md-nav__link">
      QHCG
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Software
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Software" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Software
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="os_support_cpu.html" class="md-nav__link">
      CPU OS build support
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        DSP OS QuRT
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="os_support_dsp.html" class="md-nav__link md-nav__link--active">
      DSP OS QuRT
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#qurt" class="md-nav__link">
    QuRT
  </a>
  
    <nav class="md-nav" aria-label="QuRT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#thread-management" class="md-nav__link">
    Thread management
  </a>
  
    <nav class="md-nav" aria-label="Thread management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#thread-attributes-and-contexts" class="md-nav__link">
    Thread attributes and contexts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread-synchronization-mechanisms" class="md-nav__link">
    Thread synchronization mechanisms
  </a>
  
    <nav class="md-nav" aria-label="Thread synchronization mechanisms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mutex" class="md-nav__link">
    Mutex
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signals" class="md-nav__link">
    Signals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semaphores" class="md-nav__link">
    Semaphores
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#barriers" class="md-nav__link">
    Barriers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#condition-variables" class="md-nav__link">
    Condition variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-management" class="md-nav__link">
    Memory management
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-management" class="md-nav__link">
    Cache management
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pmu-management" class="md-nav__link">
    PMU management
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../system_performance/resource_management.html" class="md-nav__link">
      Resource management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      Interprocessor Communication (IPC)
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Interprocessor Communication (IPC)" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        <span class="md-nav__icon md-icon"></span>
        Interprocessor Communication (IPC)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../ipc/rpc.html" class="md-nav__link">
      RPC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ipc/dspqueue.html" class="md-nav__link">
      Asynchronous DSP Packet Queue
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5">
    
    <label class="md-nav__link" for="nav-3-5">
      Libraries
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Libraries" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        <span class="md-nav__icon md-icon"></span>
        Libraries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../system_libraries/index.html" class="md-nav__link">
      System libraries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hexagon_libraries/index.html" class="md-nav__link">
      Hexagon libraries
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-6" type="checkbox" id="nav-3-6">
    
    <label class="md-nav__link" for="nav-3-6">
      System performance
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="System performance" data-md-level="2">
      <label class="md-nav__title" for="nav-3-6">
        <span class="md-nav__icon md-icon"></span>
        System performance
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../system_performance/system_optimizations.html" class="md-nav__link">
      System-level optimizations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../system_performance/dsp_optimizations.html" class="md-nav__link">
      DSP optimizations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../system_integration.html" class="md-nav__link">
      System integration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Examples
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Examples" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Examples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/index.html" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/asyncdspq_example/index.html" class="md-nav__link">
      Asyncdspq
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/calculator/index.html" class="md-nav__link">
      Calculator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/calculator_c%2B%2B/index.html" class="md-nav__link">
      Calculator C++
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/calculator_c%2B%2B_apk/index.html" class="md-nav__link">
      Calculator C++ APK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/dspqueue/index.html" class="md-nav__link">
      DSP Packet Queue
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/gtest/index.html" class="md-nav__link">
      GTEST
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/hap_example/index.html" class="md-nav__link">
      HAP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/lpi_example/index.html" class="md-nav__link">
      LPI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/multithreading/index.html" class="md-nav__link">
      Multithreading
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/profiling/index.html" class="md-nav__link">
      Profiling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/qhl/index.html" class="md-nav__link">
      QHL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/qhl_hvx/index.html" class="md-nav__link">
      QHL HVX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../examples/qprintf/index.html" class="md-nav__link">
      QPRINTF
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Reference
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Reference" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/releases.html" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/idl.html" class="md-nav__link">
      IDL documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/manuals.html" class="md-nav__link">
      Reference manuals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/faq.html" class="md-nav__link">
      FAQ
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/troubleshooting.html" class="md-nav__link">
      Trouble Shooting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/feature_matrix.html" class="md-nav__link">
      Feature matrix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../support.html" class="md-nav__link">
      Support
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Add-ons
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Add-ons" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Add-ons
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../add-ons/compute.html" class="md-nav__link">
      Compute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../add-ons/audio.html" class="md-nav__link">
      Audio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../add-ons/eai.html" class="md-nav__link">
      eAI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../add-ons/qnx.html" class="md-nav__link">
      QNX
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#qurt" class="md-nav__link">
    QuRT
  </a>
  
    <nav class="md-nav" aria-label="QuRT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#thread-management" class="md-nav__link">
    Thread management
  </a>
  
    <nav class="md-nav" aria-label="Thread management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#thread-attributes-and-contexts" class="md-nav__link">
    Thread attributes and contexts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread-synchronization-mechanisms" class="md-nav__link">
    Thread synchronization mechanisms
  </a>
  
    <nav class="md-nav" aria-label="Thread synchronization mechanisms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mutex" class="md-nav__link">
    Mutex
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signals" class="md-nav__link">
    Signals
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semaphores" class="md-nav__link">
    Semaphores
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#barriers" class="md-nav__link">
    Barriers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#condition-variables" class="md-nav__link">
    Condition variables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory-management" class="md-nav__link">
    Memory management
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache-management" class="md-nav__link">
    Cache management
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pmu-management" class="md-nav__link">
    PMU management
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="dsp-os-and-resource-management">DSP OS and resource management</h1>
<h2 id="qurt">QuRT</h2>
<p>Following is a brief overview of Qualcomm Hexagon RTOS (QuRT) and some usage examples involving QuRT API calls. For more details on QuRT, see the <a href="../../pdf/80-VB419-178_B_QuRT_User_Guide.pdf">QuRT user guide</a>.</p>
<p>QuRT is a simple real-time operating system (RTOS) that runs on the DSP and supports multithreading, thread communication and synchronization, interrupt handling, and memory management.</p>
<p>The DSP can execute a ﬁxed number of threads simultaneously. These threads are referred as hardware threads. For example, the cDSP of the SM8150 and SM8250 devices includes four hardware threads, while Lahaina's cDSP includes six hardware threads. These hardware threads might need to share resources. For example, the six hardware threads in Lahaina share four HVX contexts, one HMX context, and the memory subsystem. QuRT provides support for sharing these hardware resources to run a large number of software threads with different requirements.</p>
<p>Specifically, QuRT supports real-time priority-based preemptive multithreading:</p>
<ul>
<li>
<p>Multithreading means that multiple software threads can execute at the same time in a user program. QuRT initially assigns a single thread of execution to a user executable, and the program can then create additional threads.</p>
</li>
<li>
<p>Priority-based means that each thread is assigned a priority level. The priority determines which threads have execution priority.</p>
</li>
<li>
<p>Preemptive means that a thread can be preempted (the processor is taken away)when a higher priority thread is ready to execute.</p>
</li>
<li>
<p>Real-time means the operating system can perform operations within fixed time constraints.</p>
</li>
</ul>
<p>QuRT consists of the a kernel and a user library:</p>
<ul>
<li>
<p>The kernel provides a minimal set of operating system facilities, including thread creation, scheduling, and blocking. It also performs basic memory management.</p>
</li>
<li>
<p>The QURT user library provides an API to the kernel operations and some additional library functions to aid in programming.</p>
</li>
</ul>
<h3 id="thread-management">Thread management</h3>
<p>QuRT supports real-time priority-based preemptive multithreading, with no form of time-slicing for same-priority threads. For an example that demonstrates QuRT thread APIs, see <a href="../../examples/multithreading/index.html">multithreading</a>.</p>
<h4 id="thread-attributes-and-contexts">Thread attributes and contexts</h4>
<p>QURT provides the <code>qurt_thread_create()</code> function to create a thread with specified attributes. Threads have two kinds of attributes:</p>
<ul>
<li>
<p>Static attributes, which cannot be changed after a thread is created.</p>
<p>Static attributes are set before a thread is created (using the <code>qurt_thread_attr_init()</code> and <code>qurt_thread_attr_set()</code> functions) and when a thread is created (by directly passing the attributes as arguments to <code>qurt_thread_create()</code>).</p>
</li>
<li>
<p>Dynamic attributes, which can be changed after the thread is created.</p>
<p>Dynamic attributes are set after a thread is created using one of the <code>qurt_thread_set_*()</code> functions such as <code>qurt_thread_set_priority()</code>.</p>
</li>
</ul>
<p>Thread priority is an example of an attribute that allows both static and dynamic configurations. It is important to set the initial thread priority statically to avoid its being given a very low default priority by QuRT.</p>
<p>Because the DSP is a multi-user environment, it can be difficult to know the appropriate thread priority for a new thread being spawned, so the general recommendation is to query the priority of the thread doing the spawning, and either use the same, or slightly above or below, based on the relative priority of the threads under the user's control. A thread can also dynamically change its priority any time.</p>
<p>All threads are initialized to the Ready state. During system startup, the scheduler selects the highest-priority threads for execution and changes their thread state to Running. The action of suspending one thread and resuming another is called a <em>context switch</em>.</p>
<p>The following operations can cause a context switch:</p>
<ul>
<li>Creating or exiting a thread</li>
<li>Changing a thread priority</li>
<li>Waiting on or releasing a mutex or semaphore</li>
<li>Waiting on or resuming from a signal, barrier, or condition variable</li>
<li>Reading or writing from a pipe</li>
<li>Servicing an Interrupt</li>
</ul>
<h4 id="thread-synchronization-mechanisms">Thread synchronization mechanisms</h4>
<h5 id="mutex">Mutex</h5>
<p>Threads use mutexes to synchronize their execution to ensure mutually exclusive access to shared resources. If a thread performs a lock operation (using <code>qurt_mutex_lock()</code>) on a mutex that is not being used, the thread gains access to the shared resource that is protected by the mutex, and it continues executing.</p>
<p>If a thread performs a lock operation on a mutex that is already being used by another thread, the thread is suspended on the mutex. When the mutex becomes available (because the other thread has unlocked it), the suspended thread is awakened and gains access to the shared resource.</p>
<h5 id="signals">Signals</h5>
<p>Threads use signals to synchronize their execution based on the occurrence of one or more internal events. If a thread is waiting on a signal object for a specified set of signals to be set, and one or more of those signals is set in the signal object, the thread is awakened. The <code>qurt_signal_wait()</code> and <code>qurt_signal_wait_cancellable()</code> functions wait for any or all signals, depending on their wait type arguments.</p>
<h5 id="semaphores">Semaphores</h5>
<p>Threads use semaphores to synchronize their access to shared resources. When a semaphore is initialized, it is assigned an integer count value. This value indicates the number of threads that can simultaneously access a shared resource through the semaphore. The default value is 1.</p>
<p>When a thread performs a Down operation on a semaphore, the result depends on the semaphore count value:</p>
<ul>
<li>If the count value is nonzero, it is decremented. The thread gains access to the shared resource and continues executing.</li>
<li>If the count value is zero, it is not decremented, and the thread is suspended on the semaphore.
  When the count value becomes nonzero (because another thread released the semaphore) it is decremented, and the suspended thread is awakened and gains access to the shared resource.</li>
</ul>
<p>When a thread performs an Up operation on a semaphore, the semaphore count value is incremented. The result depends on the number of threads waiting on the semaphore:</p>
<ul>
<li>If no threads are waiting, the current thread releases access to the shared resource and continues executing.</li>
<li>If one or more threads are waiting and the semaphore count value is nonzero, the kernel awakens the highest priority waiting thread and decrements the semaphore count value.
  If the awakened thread has a higher priority than the current thread, a context switch might occur.</li>
</ul>
<h5 id="barriers">Barriers</h5>
<p>Threads use barriers to synchronize their execution at a specific point in a program. When a barrier is initialized, it is assigned a user-specified integer value. This value indicates the number of threads to synchronize on the barrier. When a thread waits on a barrier, it is suspended on the barrier:</p>
<ul>
<li>If the total number of threads waiting on the barrier is less than the barrier’s assigned value, no other action occurs.</li>
<li>If the total number of threads waiting on the barrier equals the barrier’s assigned value, all threads currently waiting on the barrier are awakened, allowing them to execute past the barrier.</li>
</ul>
<p>After a barrier's waiting threads are awakened, it is automatically reset and can be used again in the program without the need for reinitialization.</p>
<h5 id="condition-variables">Condition variables</h5>
<p>Threads use condition variables to synchronize their execution based on the value in a shared data item. Condition variables are useful in cases where a thread would continuously poll a data item until it contained a specific value. Using a condition variable, the thread can efficiently accomplish the same task without the need for polling.</p>
<h3 id="memory-management">Memory management</h3>
<p>QuRT offers memory mapping and allocation APIs that are exposed indirectly to user PDs through the <a href="../../doxygen/HAP_mem/index.html">HAP_mem APIs</a>.</p>
<h3 id="cache-management">Cache management</h3>
<p>The DSP has a two-level cache memory subsystem. On the cDSP with HVX, L1 is only accessible to the scalar unit, making L2 the second level memory for the scalar unit and the first level memory for the HVX coprocessor. For more details on L1 and L2 caches, see the <a href="../../index.html#memory-subsystem">Memory subsystem documentation</a>.</p>
<p>To maintain coherence, cache IO coherency allows the DSP to snoop into the CPU L2 cache. IO coherency is enabled by default for CPU-cached buffers shared with the DSP. However, clients can disable IO coherency for ION buffers by registering buffers as non-coherent using <code>remote_register_buf_attr()</code> with the <code>FASTRPC_ATTR_NON_COHERENT</code> attribute. The <code>remote_register_buf_attr()</code> function is explained in <a href="../../doxygen/remote/index.html">Remote APIs</a>.</p>
<p>Another option is to map a buffer as non-coherent upon its allocation by passing the <code>RPCMEM_HEAP_NONCOHERENT</code> flag when calling <code>rpcmem_alloc()</code>.</p>
<pre><code>uint32 flags = ION_FLAG_CACHED | RPCMEM_HEAP_NONCOHERENT
rpcmem_alloc(heapid, flags, size);
</code></pre>
<p>The <code>rpcmem_alloc()</code> function is documented as part of the <a href="../../doxygen/rpcmem/index.html">RPCMEM APIs</a>.</p>
<p>IO-coherent buffers require no CPU-side cache maintenance, thus facilitating reduced FastRPC overhead with little dependence on the total size of buffers being shared with the DSP.</p>
<h3 id="pmu-management">PMU management</h3>
<p>QuRT offers PMU configuration APIs for counting various hardware events that are useful in profiling. These APIs are exposed indirectly to the user space through the SysMon application. To profile the DSP workload, see the <a href="../../tools/sysmon_profiler.html">Sysmon_Profiler application</a>.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="os_support_cpu.html" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                CPU OS build support
              </div>
            </div>
          </a>
        
        
          <a href="../system_performance/resource_management.html" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Resource management
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright © 2020 Qualcomm Technologies Inc. All rights reserved.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.77e55a48.min.js"></script>
      <script src="../../assets/javascripts/bundle.9554a270.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
       
<script src="../../js/iframe-worker.js"></script>
<script src="../../search/search_index.js"></script>
 
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../js/mermaid.min.js"></script>
      
    
  </body>
</html>