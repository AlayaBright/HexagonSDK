
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.0.2">
    
    
      
        <title>FAQ - Hexagon SDK</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.38780c08.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f72e892.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../css/mermaid.css">
    
      <link rel="stylesheet" href="../css/freezeTable.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#faq" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Hexagon SDK" class="md-header-nav__button md-logo" aria-label="Hexagon SDK">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Hexagon SDK
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              FAQ
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Hexagon SDK" class="md-nav__button md-logo" aria-label="Hexagon SDK">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Hexagon SDK
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Tools
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Tools" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/setup.html" class="md-nav__link">
      Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/build.html" class="md-nav__link">
      Building
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/sign.html" class="md-nav__link">
      Device signing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/run.html" class="md-nav__link">
      Running
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/messaging.html" class="md-nav__link">
      Message logging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/debug.html" class="md-nav__link">
      Debugging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/profile.html" class="md-nav__link">
      Profiling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/ide.html" class="md-nav__link">
      Using the IDE
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/clone.html" class="md-nav__link">
      Project cloning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tools/qhcg.html" class="md-nav__link">
      QHCG
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Software
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Software" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Software
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../software/os/os_support_cpu.html" class="md-nav__link">
      CPU OS build support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../software/os/os_support_dsp.html" class="md-nav__link">
      DSP OS QuRT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../software/system_performance/resource_management.html" class="md-nav__link">
      Resource management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      Interprocessor Communication (IPC)
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Interprocessor Communication (IPC)" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        <span class="md-nav__icon md-icon"></span>
        Interprocessor Communication (IPC)
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../software/ipc/rpc.html" class="md-nav__link">
      RPC
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../software/ipc/dspqueue.html" class="md-nav__link">
      Asynchronous DSP Packet Queue
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5">
    
    <label class="md-nav__link" for="nav-3-5">
      Libraries
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Libraries" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        <span class="md-nav__icon md-icon"></span>
        Libraries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../software/system_libraries/index.html" class="md-nav__link">
      System libraries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../software/hexagon_libraries/index.html" class="md-nav__link">
      Hexagon libraries
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-6" type="checkbox" id="nav-3-6">
    
    <label class="md-nav__link" for="nav-3-6">
      System performance
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="System performance" data-md-level="2">
      <label class="md-nav__title" for="nav-3-6">
        <span class="md-nav__icon md-icon"></span>
        System performance
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../software/system_performance/system_optimizations.html" class="md-nav__link">
      System-level optimizations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../software/system_performance/dsp_optimizations.html" class="md-nav__link">
      DSP optimizations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../software/system_integration.html" class="md-nav__link">
      System integration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Examples
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Examples" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        Examples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../examples/index.html" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples/asyncdspq_example/index.html" class="md-nav__link">
      Asyncdspq
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples/calculator/index.html" class="md-nav__link">
      Calculator
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples/calculator_c%2B%2B/index.html" class="md-nav__link">
      Calculator C++
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples/calculator_c%2B%2B_apk/index.html" class="md-nav__link">
      Calculator C++ APK
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples/dspqueue/index.html" class="md-nav__link">
      DSP Packet Queue
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples/gtest/index.html" class="md-nav__link">
      GTEST
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples/hap_example/index.html" class="md-nav__link">
      HAP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples/lpi_example/index.html" class="md-nav__link">
      LPI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples/multithreading/index.html" class="md-nav__link">
      Multithreading
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples/profiling/index.html" class="md-nav__link">
      Profiling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples/qhl/index.html" class="md-nav__link">
      QHL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples/qhl_hvx/index.html" class="md-nav__link">
      QHL HVX
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../examples/qprintf/index.html" class="md-nav__link">
      QPRINTF
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Reference
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Reference" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="releases.html" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="idl.html" class="md-nav__link">
      IDL documentation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="manuals.html" class="md-nav__link">
      Reference manuals
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        FAQ
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="faq.html" class="md-nav__link md-nav__link--active">
      FAQ
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-faq" class="md-nav__link">
    Common FAQ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-loading" class="md-nav__link">
    Dynamic Loading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fastrpc" class="md-nav__link">
    FastRPC
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="troubleshooting.html" class="md-nav__link">
      Trouble Shooting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="feature_matrix.html" class="md-nav__link">
      Feature matrix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../support.html" class="md-nav__link">
      Support
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Add-ons
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Add-ons" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Add-ons
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../add-ons/compute.html" class="md-nav__link">
      Compute
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../add-ons/audio.html" class="md-nav__link">
      Audio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../add-ons/eai.html" class="md-nav__link">
      eAI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../add-ons/qnx.html" class="md-nav__link">
      QNX
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-faq" class="md-nav__link">
    Common FAQ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-loading" class="md-nav__link">
    Dynamic Loading
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fastrpc" class="md-nav__link">
    FastRPC
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="faq">FAQ</h1>
<h2 id="common-faq">Common FAQ</h2>
<ol>
<li>
<p>How to link c++ libraries statically on Android side?</p>
<p>If you are using Android GCC tools, you can link libstdc++ statically by adding the below lines to your android.min file:</p>
<p><code>&lt;application_name&gt;_LIBS += $(ANDROID_TOOLS_DIR)\platforms\android-&lt;Android-API-LEVEL&gt;\arch-arm\usr\lib\libstdc++.a</code></p>
<p>e.g: <code>calculator_LIBS += $(ANDROID_TOOLS_DIR)\platforms\android-26\arch-arm\usr\lib\libstdc++.a</code></p>
<p>If you are using Android CLANG tools, you can link libc++ statically by adding the below lines to your android.min file:</p>
<p><code>&lt;application_name&gt;_LIBS += $(ANDROID_TOOLS_DIR)/sysroot/usr/lib/aarch64-linux-android/libc+_static.a</code></p>
<p><code>&lt;application_name&gt;_LIBS += $(ANDROID_TOOLS_DIR)/sysroot/usr/lib/aarch64-linux-android/libc+abi.a</code></p>
<p>e.g: <code>calculator_LIBS += $(ANDROID_TOOLS_DIR)/sysroot/usr/lib/aarch64-linux-android/libc+_static.a</code></p>
<p><code>calculator_LIBS += $(ANDROID_TOOLS_DIR)/sysroot/usr/lib/aarch64-linux-android/libc+abi.a</code></p>
</li>
<li>
<p>How to run examples on target from Command Line Interface (CLI)?</p>
<p>Almost all the SDK examples have a walkthrough script to run the example on the target. This script compiles the example for the HLOS and DSP variants, optionally signs the device, pushes the built libraries to the device and finally, runs the example executable on the device. Refer to <a href="../tools/run.html#run-applications-on-target">this</a> for more information.</p>
</li>
<li>
<p>How to convert an older project to glue-free?</p>
<p>With versions earlier than 3.5, the examples contain a <code>glue</code> folder which has <code>&lt;variant&gt;.mak</code> and <code>V_&lt;variant&gt;.min</code> files. When a glue-based example is built for a <code>variant</code>, the rules mentioned in the <code>&lt;variant&gt;.mak&gt;</code> file will be invoked to build the example and its dependencies, using libraries and includes mentioned in <code>V_&lt;variant&gt;.min</code> file. To modify the dependencies in a glue-based project, the glue folder contents needs to be updated which is not practical to do.</p>
<p>Glue-free projects were introduced to provide an easy way to change/add dependencies. All the SDK examples are converted to use the glue-free approach. A Glue-free project should have the following files in its root directory:</p>
<ul>
<li>hexagon_deps.min, hexagon.min for building the Hexagon variant,</li>
<li>android_deps.min, android.min for building the Android variant,</li>
<li>UbuntuARM_deps.min, UbuntuARM.min for building the UbuntuARM variant, and</li>
<li>Makefile, which includes above files.</li>
</ul>
<p>A project's dependencies and supported variants must be defined in &lt;&gt;_deps.min files. The dependencies are defined using the variable <code>DEPENDENCIES</code> and their directory location is expressed with <code>&lt;DEPENDENCY NAME&gt;_DIR</code>. Refer to any example in the SDK for more information on the build files.</p>
</li>
</ol>
<h2 id="dynamic-loading">Dynamic Loading</h2>
<ol>
<li>What is dynamic loading and how can I use it?</li>
</ol>
<p>Dynamic loading enables to load and run a shared object on DSP without rebuilding the DSP image. Dynamic shared objects are analogous to Linux .so and Windows .dll files. They are implemented as ELF files and exist as files in the HLOS file system which are loaded by the DSP via an inter-processor communication mechanism. Once loaded, all symbols publicly exported by the shared object can be referenced or called. The shared objects are loaded into DSP addressable memory on-demand basis. This helps reduce DSP image size. The creation of shared objects is supported by the Hexagon Tools version 5.0.9 and newer.
   The document <a href="../pdf/80-N2040-23_K_Hexagon_Application_Binary_Interface_User_Guide.pdf">Hexagon Application Binary Interface Specification</a> provides more information about the structure and limitations of dynamic shared objects. The documentation introducing <a href="../software/ipc/rpc.html">FastRPC</a> also discusses in more details the process of dynamic loading.</p>
<ol>
<li>
<p>What is the file format of the dynamic shared object files?</p>
<p>The dynamic shared object files are ELFs that adhere to the specification described in the document
<a href="../pdf/80-N2040-23_K_Hexagon_Application_Binary_Interface_User_Guide.pdf" target="_blank">Hexagon Application Binary Interface Specification</a> which is an addendum to the
System V Application Binary Interface as described by</p>
<p><a href="http://www.sco.com/developers/gabi/latest/contents.html">http://www.sco.com/developers/gabi/latest/contents.html</a></p>
</li>
<li>
<p>Do dynamic shared objects support C++?</p>
<p>Yes. For C++ support on Android side, refer to <a href="../examples/calculator_c%2B%2B_apk/index.html">calculator_c++_apk</a> example. On hexagon side, refer to <a href="../examples/calculator_c%2B%2B/index.html">calculator C++ example</a>.</p>
</li>
<li>
<p>How do I build/link assembly source code to generate shared object?</p>
<p>Shared objects should be built to be position independent and SDK build system takes care of that already. Assembly source files should be added to <shared object name>.ASM_SRCS in hexagon.min files. Please refer to benchmark example in compute/addon.</p>
</li>
<li>
<p>Where to push the executables or shared objects to the target?</p>
<p>On a rooted device, push binaries as follows:</p>
<p>HLOS Executables
    * LA: push to <code>/vendor/bin</code>
    * LE: push to <code>/usr/bin</code></p>
<p>HLOS stub libraries
    * LA: push to <code>/vendor/lib(64)</code>
    * LE: push to <code>/usr/lib(64)</code></p>
<p>DSP skeleton libraries
    * Push to <a href="../software/ipc/rpc.html#remote-file-system">default search paths</a></p>
<p><strong><em>Note: </em></strong> The loader paths for stub and skeleton libraries are configurable using the environment variables <code>LD_LIRBARY_PATH</code> and <a href="../software/ipc/rpc.html#using-dsp_library_path"><code>[A]DSP_LIBRARY_PATH</code></a> respectively.</p>
<p>For example, use the command below to append <code>/vendor/lib64</code> to the stub libraries loader path and <code>/vendor/lib/rfsa/dsp/sdk</code> to the DSP libraries loader path before running the calculator executable:</p>
<pre><code>adb shell export LD_LIBRARY_PATH=/vendor/lib64/:$LD_LIBRARY_PATH DSP_LIBRARY_PATH="/vendor/lib/rfsa/dsp/sdk\" calculator 0 3 1000
</code></pre>
</li>
<li>
<p>How to run an application on the cDSP in an unrooted device?</p>
<p>It is not possible to push executables/libraries in <code>/vendor</code> partition in an unrooted device. Hence, users can run the application from <code>/data</code> partition.</p>
<p>In a unrooted device, push the executables to <code>/data/nativetest(64)/vendor</code>, and HLOS Stub and DSP skeleton libraries to any location configured using the environment variables, <code>LD_LIRBARY_PATH</code> and <a href="../software/ipc/rpc.html#using-dsp_library_path">[A]DSP_LIBRARY_PATH</a>, respectively. An application running from this location will also have access to the libraries already residing in <code>/vendor</code>.</p>
<pre><code>adb shell export LD_LIBRARY_PATH=/data/nativetest64/vendor:$LD_LIBRARY_PATH DSP_LIBRARY_PATH="/data/xxx/yyy\" calculator 0 3 1000
</code></pre>
<p><strong><em>Note: </em></strong> With the introduction of treble limitations starting with Android-P, it is not possible to run an application from <code>/data/app</code>. In addition to the above mentioned location, the executable can also be run from the directory <code>/data/local/tmp</code>. An application run from any of these locations will have access to the DSP libraries in the <code>vendor</code> partition as well.</p>
</li>
<li>
<p>How to get the load address and size of the libraries loaded in the simulator?</p>
<p>The load address of the library is printed in the console for a simulation.</p>
<pre><code>try to load calculator_q.so from file:  HIGH:0x1E6:122:search.c
....
read headers 0x0 -&gt; d8041000 (0x1000 B):  HIGH:0x1E6:539:map_object.c
_rtld_map_object_ex: sigverify skipped for ./calculator_q.so, no function specified!:  HIGH:0x1E6:598:map_object.c
....
mapped  [d81ed000 - d8200000] (77824 Bytes):  HIGH:0x1E6:729:map_object.c
</code></pre>
<p>Here, the load address of the library "calculator_q.so" is <code>0xd81ed000</code>, whereas the size of the library is <code>77824</code> bytes.</p>
</li>
</ol>
<h2 id="fastrpc">FastRPC</h2>
<ol>
<li>
<p>How do I know if the remote call completed successfully?</p>
<p>If the remote call returns zero then it indicates remote call is succussful. Any other value is a failure, refer to <a href="../doxygen/AEEStd/index.html" target="_blank">error codes</a>. Also refer to <a href="troubleshooting.html#trouble-shooting-fastrpc-issues">Trouble shooting fastRPC issues</a> if you see any issues.</p>
</li>
<li>
<p>Can I use a buffer in a remote call as both input and output.?</p>
<p>Yes, we can use. Refer <a href="idl.html">IDL documentation</a></p>
</li>
<li>
<p>What is the significance of using ION memory?</p>
<p>Refer to rpcmem header file and <a href="../doxygen/rpcmem/index.html" target="_blank">documentation</a>.</p>
</li>
<li>
<p>What memory can be passed to a FastRPC function?</p>
<p>Any memory can be passed. However ION allocated memory is the only memory that will be passed to
the DSP directly without a copy. Stack, general heap, and static buffers will
be copied.</p>
<p>Even though ION memory isn't copied, cache synchronization still has to be
performed. This is because DSP and application processor do not share the same cache. Also,
these operations are the most significant factor in RPC performance. For more details refer to <a href="../software/system_performance/system_optimizations.html">system performance documents</a></p>
</li>
<li>
<p>How much stack space is used by FastRPC framework on DSP?</p>
<p>FastRPC framework allocates a stack of 16KB per thread on DSP by default. It can be changed using <code>remote_session_control</code> API mentioned in <a href="../doxygen/remote/index.html">remote.h</a></p>
</li>
<li>
<p>What is the page granularity of mappings on DSP?</p>
<p>The FastRPC framework maps buffers at a page granularity supported by the DSP
(4K, 16K, 64K, 256K, 1M). For example, if the client passes a 512K buffer, it
gets mapped with two entries of 256K each, correctly aligning the received
physical address.</p>
<p>The mapping exists only for the duration of that remote invocation. When the
DSP returns from the invocation, it unmaps the pages associated with that
invocation. The mapping and unmapping happen for each RPC call made.</p>
</li>
<li>
<p>What happens if an application is terminated in the middle of remote invocation?</p>
<p>The FastRPC framework keeps track of all resources used for the remote
invocation and performs the necessary cleanup such as notifying the DSP
processor to kill the threads servicing the remote invocation. The application
is blocked from exiting until the clean up is complete so as to
guarantee that the buffers passed to the DSP are not in use before the HLOS
re-allocates them.</p>
</li>
<li>
<p>Can more than one remote invocation be made at any given point?</p>
<p>Yes, there can be multiple threads that can be spawned from the user space
application with each making a remote invocation simultaneously. Refer to calculator multi domain example.</p>
</li>
<li>
<p>What cache attribute is used to map the input and output buffers?</p>
<p>The input and output buffers are mapped by default with write-back cache
attribute (both L1 and L2 cacheable).</p>
</li>
<li>
<p>How to manage the clocks when making a fastrpc call?</p>
<p>Refer to the header file HAP_power.h and its <a href="../doxygen/HAP_power/index.html" target="_blank">documentation</a>. Refer to example in /addons/compute/examples/benchmark</p>
</li>
<li>
<p><code>HAP_perf_get_pcycles()</code> and <code>HAP_perf_get_time_us()</code> are returning zero when running on hexagon simulator. What should I do?</p>
<p>To use <code>HAP_perf_get_pcycles()</code> and <code>HAP_perf_get_time_us()</code>, your simulator test should be running on top of QuRT.
All simulator tests run on top of QuRT by default unless NO_QURT_INC variable is defined to 1 in your example makefile as shown in calculator example in examples/calculator/hexagon.min.</p>
<p>Please refer to the SDK <a href="../tools/run.html#run-applications-on-simulator" target="_blank">simulator document page</a> to know more about standalone simulator tests and QuRT-based simulator tests.</p>
</li>
<li>
<p>How to log messages from DSP?</p>
<p>Refer to documentation on <a href="../tools/messaging.html">debug</a>.</p>
</li>
<li>
<p>How can I display fastRPC debug messages?</p>
<p>There is an error message logging support for the application processor and the DSP
for a FastRPC session between a client application on the application processor and a
service running on the DSP. The messages from user space and kernel space on
the application processor are logged in logcat and dmesg respectively. The messages
from DSP are logged to either mini-DM (please refer <a href="../tools/messaging.html#mini-dm">mini-
DM</a>) or in logcat (please refer
<a href="../tools/messaging.html#logcat">logcat</a>).</p>
<p>To search FastRPC errors from application processor or dsp(adsp/cdsp/mdsp/slpi) on logcat, use
following tag names: 'adsprpc' or '<process name>', e.g : adb logcat -s
adsprpc.</p>
</li>
<li>
<p>If the serial number of a device is retrieved by running getserial on <code>ADSP</code>, does it sign only <code>ADSP</code>?</p>
<p>The serial number of the device is not specific to one sub-system and represents the RPC version of all the sub-systems of the device. The serial number returned by running getserial on <code>ADSP</code> is the same as the one returned by <code>CDSP</code>. If the testsig generated with this serial number is pushed to an accessible location on the device, then it is possible to run the application on all the sub-systems.</p>
</li>
<li>
<p>How to resolve queries about QuRT APIs?</p>
<p>Refer to <a href="../software/os/os_support_dsp.html#qurt">this</a> for more information on QuRT.</p>
</li>
</ol>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="manuals.html" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Reference manuals
              </div>
            </div>
          </a>
        
        
          <a href="troubleshooting.html" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Trouble Shooting
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright © 2020 Qualcomm Technologies Inc. All rights reserved.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.77e55a48.min.js"></script>
      <script src="../assets/javascripts/bundle.9554a270.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
       
<script src="../js/iframe-worker.js"></script>
<script src="../search/search_index.js"></script>
 
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../js/mermaid.min.js"></script>
      
    
  </body>
</html>